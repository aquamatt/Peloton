<?xml version="1.0"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
            "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd"
            [
            <!ENTITY peloton "Peloton">
        ]>

<!--
# $Id$
#
# Copyright (c) 2007-2008 ReThought Limited and Peloton Contributors
# All Rights Reserved
# See LICENSE for details
-->

<article>
    <articleinfo>
        <title>
            The
            &peloton; Developer&apos;s Guide
        </title>
        <author>
            <firstname>Peloton Development Team</firstname>
        </author>
        <releaseinfo>
            $Id$
        </releaseinfo>
        <abstract>
            <para>
                Installation of &peloton; should be straightforward on many platforms
				but there are always occasions when a manual install may be required. This
				document details installation procedures and the packages, libraries and
				applications upon which &peloton; depends.
            </para>
        </abstract>
    </articleinfo>

    <sect1 id='dependencies'>
        <title>Dependencies: 3rd parth apps and libraries</title>
		<sect2>
			<title>Python libraries</title>
			<para>
				The following pythonlibraries are either required always (R) or required when using 
				particular modules (M) and must be installed either by installer scripts 
				(distutils, Debian package etc) or by the system administrator.
			</para>
			<orderedlist>
	             <listitem>
	                   <para>
	                   	    <filename>(R)Twisted</filename> Version &gt;=2.5
	                   </para>
	             </listitem>
	             <listitem>
                       <para>
                           Client-side libraries for AMPQ. &peloton; has chosen to use the
                           <classname>py-amqplib</classname> library obtained from <ulink url='http://barryp.org/software/py-amqplib/'/>
                            and announced on <ulink url='http://www.nabble.com/Alternative-Python-AMQP-client-library-td14139740.html'>this page</ulink>.
                       </para>
	             </listitem>
	             <listitem>
	                   <para>
	                   	   <class>PyCrypto</class> and <class>ezPyCrypto</class>. The former is available from <ulink url='http://www.amk.ca/python/code/crypto.html'/> and 
						   the latter from <ulink url='http://www.freenet.org.nz/ezPyCrypto/'/>. 
	                   </para>
					   <para>
					   	   <class>PyCrypto</class> may be installed on Debian/Ubuntu from the 
						   <filename>python-crypto</filename> package although at the time of
						   writing package depended on Python &lt;= 2.5 which means a manual install
						   is required (quite un-necessary as far as I can tell).
					   </para>
	             </listitem>
                 <listitem>
                       <para>
                            <filename>python-memcache</filename> pure-python interface to <filename>memcached</filename>.
							A slower alternative to <filename>cmemcache</filename> discussed below. Only install if
							you cannot install <filename>cmemcache</filename>.
                       </para>
                 </listitem>
			</orderedlist>
		</sect2>
		<sect2>
			 <title>Non-Python libraries</title>
			 <orderedlist>
			     <listitem>
			         <para>
			         	<filename>cmemcache</filename> obtainable from <ulink url='http://gijsbert.org/cmemcache/'/>
						is a faster version of the pure-Python <filename>Python-Memcache</filename> library
						for interacting with <filename>memcached</filename>. Either may be used; &peloton;
						will try <filename>cmemcache</filename> first and fall back to <filename>Python-Memcache</filename>
						if not available.
					</para>
				</listitem>
			</orderedlist>
	    </sect2>
		<sect2>
			 <title>Third party applications</title>
            <orderedlist>
                 <listitem>
                       <para>
                            <filename>RebbitMQ</filename> Version &gt;=1.2.0
                       </para>
					   <para>
					   	   RabbitMQ is a supported messaging backend. MQ servers need
						   to be running in the &peloton; environment and these can
						   be downloaded from the RabbitMQ site at <ulink url='http://www.rabbitmq.com/'/>.
						   Packages are available for many platforms from the RabbitMQ site including 
                           Debian/Ubuntu and Windows -
						   these include or will cause to be installed the Erlang language libraries.
					   </para>
                       <para>
                           Documentation for setting up RabbitMQ can be found on the site: in particular the instructions
                            for clustering must be followed carefully - do not forget to copy the cookie to all hosts; without
                            this hosts will not cluster together. More information about AMQP, its internals and security
                            model can be obtained from the very readable specification located at
                            <ulink url='https://jira.amqp.org/confluence/display/AMQP/Download'/>.
                       </para>
                 </listitem>
                 <listitem>
                       <para>
                       	    <filename>memcached</filename> - the robust and road-tested cacheing daemon.
							Also the accompanying <filename>libmemcached</filename> if you wish to build 
							<filename>cmemcache</filename>.
                       </para>
                 </listitem>
                 <listitem>
                       <para>
                       </para>
                 </listitem>
            </orderedlist>
		</sect2>
    </sect1>
</article>
